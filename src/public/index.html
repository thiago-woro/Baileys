<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zaploop Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <!-- favicon https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Google_Messages_icon_%282022%29.svg/192px-Google_Messages_icon_%282022%29.svg.png-->
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Google_Messages_icon_%282022%29.svg/192px-Google_Messages_icon_%282022%29.svg.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
</head>
<body>
<!-- add header, full width -->
<header class="header" style="width: 100%;">
    <h1>Zaploop Dashboard</h1>
</header>


    <div class="container" style="margin-top: 30px;">
        
        <div class="section">
            <h2>Create New Session</h2>
            <div class="form-group">
                <input type="text" id="sessionId" placeholder="Enter Session ID">
                <button onclick="createSession()">Create Session</button>
            </div>
            <!-- Add QR code container -->
            <div class="qr-container">
                <div id="qrcode-placeholder">
                    <p>QR code will appear here</p>
                </div>
                <div id="qrcode"></div>
            </div>
        </div>

        <div class="section">
            <h2>Online Sessions</h2>
            <div id="sessionsList"></div>
            <!-- placeholder for session list -->
            <div id="sessionListPlaceholder">
                <p>No active sessions</p>
            </div>
            <!-- refresh button to call again -->
            <span hoverable id="refresh-sessions" onclick="refreshSessions()" style="cursor: pointer;">refresh</span>
        </div>

        <div class="section">
            <h2>Send Message</h2>
            <div class="form-group">
                <!-- label -->
                <label for="sessionSelect">Select Session</label>
                <input type="text" id="sessionSelect" placeholder="Enter Session ID" value="luana">
                <label for="jid">Enter phone number</label>
                <input type="text" id="jid" placeholder="Enter JID (phone@s.whatsapp.net)" value="554891854014@s.whatsapp.net">
                <label for="message">Enter message</label>
                <textarea id="message" placeholder="Enter message" value="Hello!! world!!"></textarea>
                <button onclick="sendMessage()">Send Message</button>
            </div>
        </div>

        <div class="section">
            <h2>Send Image</h2>
            <div class="form-group">
                <input type="text" id="imageSessionSelect" placeholder="Enter Session ID" value="luana">
                <input type="text" id="imageJid" placeholder="Enter JID (phone@s.whatsapp.net)" value="554891854014@s.whatsapp.net">
                <input type="text" id="imageUrl" placeholder="Enter Image URL" value="https://www.svgrepo.com/show/508699/landscape-placeholder.svg">
                <input type="text" id="imageCaption" placeholder="Enter Caption (optional)" value="hello!">
                <button onclick="sendImage()">Send Image</button>
            </div>
        </div>
    </div>


<!-- 
    /* 
sample qr code data
{
    "status": "New connection created",
    "sessionId": "luana",
    "qrCode": "2@isXQMr9qaNDhpdwWZFLM/PIY59/LtWY9ZKT3qI3I7eHp0ClGOhruQeHd+O6D5NWsVG8557IZQyFBHzL7zUm1HXoxAlTTgNnpKTk=,DokWTivKJqEJchkG36o/Pv+gkocM/FHJQWO694AWxnA=,5Uu0/qKzBRbEXpZhnQqSMXAFK0ipZwNfGOo3S7Hqfxg=,GAFNb8CcgXqKaVYO8sc8WlAdFLXC0XF0qEgXF4QUe7Q="
}

*/
        // Generate QR code if available
        if (data.qrCode) {
            // Using qrcode.js library
            new QRCode(document.getElementById(`qrcode-${sessionId}`), {
                text: data.qrCode,
                width: 256,
                height: 256
            }); -->



    <!-- server status
       res.send({
        status: "success",
        ram: {
            total: formatBytes(totalRAM),
            used: formatBytes(usedRAM), 
            free: formatBytes(freeRAM)
        },
        cpu: {
            total: cpuCount,
            used: cpuUsage.toFixed(2),
            free: cpuFree.toFixed(2)
        },
        disk: {
            total: formatBytes(totalDisk),
            used: formatBytes(usedDisk),
            free: formatBytes(freeDisk)
        }
    }); 
    draw a health bar for each resource.
    -->
    <!-- refresh button to call again -->
    <div id="serverStatus">
        <div class="row" >
        <div class="resource">
            <div class="resource-name">RAM</div>
            <div class="resource-bar" id="ramBar">
                <div class="bar-fill"></div>
                <div class="bar-text"></div>
            </div>
        </div>
        <div class="resource">
            <div class="resource-name">CPU</div>
            <div class="resource-bar" id="cpuBar">
                <div class="bar-fill"></div>
                <div class="bar-text"></div>
            </div>
        </div>
        <div class="resource">
            <div class="resource-name">Disk</div>
            <div class="resource-bar" id="diskBar">
                <div class="bar-fill"></div>
                <div class="bar-text"></div>
            </div>
        </div>
    </div>
    <span hoverable id="refresh-server-status" onclick="getServerStatus()" style="cursor: pointer;">ðŸ”„</span>

</div>

</div>

    </div>
    <script src="script.js"></script>
</body>
</html> 