<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zaploop Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <!-- favicon https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Google_Messages_icon_%282022%29.svg/192px-Google_Messages_icon_%282022%29.svg.png-->
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Google_Messages_icon_%282022%29.svg/192px-Google_Messages_icon_%282022%29.svg.png" type="image/png">

</head>
<body>
<!-- add header, full width -->
<header style="width: 100%; height: 60px;background-color: #15293d; padding: 20px;">
    <h1>Zaploop Dashboard</h1>
</header>


    <div class="container">
        <h1>Zaploop Dashboard</h1>
        
        <div class="section">
            <h2>Create New Session</h2>
            <div class="form-group">
                <input type="text" id="sessionId" placeholder="Enter Session ID">
                <button onclick="createSession()">Create Session</button>
            </div>
        </div>

        <div class="section">
            <h2>Active Sessions</h2>
            <div id="sessionsList"></div>
        </div>

        <div class="section">
            <h2>Send Message</h2>
            <div class="form-group">
                <select id="sessionSelect">
                    <option value="">Select Session</option>
                </select>
                <input type="text" id="jid" placeholder="Enter JID (phone@s.whatsapp.net)" value="554891854014@s.whatsapp.net">
                <textarea id="message" placeholder="Enter message" value="Hello!! world!!"></textarea>
                <button onclick="sendMessage()">Send Message</button>
            </div>
        </div>

        <div class="section">
            <h2>Send Image</h2>
            <div class="form-group">
                <input type="text" id="imageSessionSelect" placeholder="Enter Session ID" value="luana">
                <input type="text" id="imageJid" placeholder="Enter JID (phone@s.whatsapp.net)" value="554891854014@s.whatsapp.net">
                <input type="text" id="imageUrl" placeholder="Enter Image URL" value="https://www.svgrepo.com/show/508699/landscape-placeholder.svg">
                <input type="text" id="imageCaption" placeholder="Enter Caption (optional)" value="hello!">
                <button onclick="sendImage()">Send Image</button>
            </div>
        </div>
    </div>
    <!-- server status
       res.send({
        status: "success",
        ram: {
            total: formatBytes(totalRAM),
            used: formatBytes(usedRAM), 
            free: formatBytes(freeRAM)
        },
        cpu: {
            total: cpuCount,
            used: cpuUsage.toFixed(2),
            free: cpuFree.toFixed(2)
        },
        disk: {
            total: formatBytes(totalDisk),
            used: formatBytes(usedDisk),
            free: formatBytes(freeDisk)
        }
    }); 
    draw a health bar for each resource.
    -->
    <!-- refresh button to call again -->
    <div id="serverStatus">Â´
     <span id="refresh-server-status" onclick="getServerStatus()"> ðŸ”„</span>
        <div class="resource">
            <div class="resource-name">RAM</div>
            <div class="resource-bar" id="ramBar">
                <div class="bar-fill"></div>
                <div class="bar-text"></div>
            </div>
        </div>
        <div class="resource">
            <div class="resource-name">CPU</div>
            <div class="resource-bar" id="cpuBar">
                <div class="bar-fill"></div>
                <div class="bar-text"></div>
            </div>
        </div>
        <div class="resource">
            <div class="resource-name">Disk</div>
            <div class="resource-bar" id="diskBar">
                <div class="bar-fill"></div>
                <div class="bar-text"></div>
            </div>
        </div>
        <style>
            #serverStatus {
                padding: 20px;
                background: #f5f5f5;
                border-radius: 8px;
            }
            .resource {
                margin: 10px 0;
            }
            .resource-name {
                font-weight: bold;
                margin-bottom: 5px;
            }
            .resource-bar {
                height: 25px;
                background: #ddd;
                border-radius: 4px;
                position: relative;
                overflow: hidden;
            }
            .bar-fill {
                height: 100%;
                width: 0%;
                background: #4CAF50;
                transition: width 0.3s ease;
            }
            .bar-text {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: #000;
                font-size: 12px;
            }
        </style>
    </div>
    <script src="script.js"></script>
</body>
</html> 